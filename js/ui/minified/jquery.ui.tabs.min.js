/*
 * jQuery UI Tabs 1.9pre
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){function e(){return++c}var c=0,d=/#.*$/,f=function(a){a=a.cloneNode(!1);return a.hash.length>1&&a.href.replace(d,"")===location.href.replace(d,"")};a.widget("ui.tabs",{version:"1.9pre",options:{active:null,collapsible:!1,event:"click",fx:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=b.options,d=c.active;b.running=!1,b.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),b._processTabs();if(d===null){location.hash&&b.anchors.each(function(a,b){if(b.hash===location.hash){d=a;return!1}}),d===null&&(d=b.lis.filter(".ui-tabs-active").index());if(d===null||d===-1)d=b.lis.length?0:!1}d!==!1&&(d=this.lis.eq(d).index(),d===-1&&(d=c.collapsible?!1:0)),c.active=d,!c.collapsible&&c.active===!1&&this.anchors.length&&(c.active=0),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,c){return b.lis.index(a)}))).sort()),this._setupFx(c.fx),this._refresh(),this.panels.hide(),this.lis.removeClass("ui-tabs-active ui-state-active");if(c.active!==!1&&this.anchors.length){this.active=this._findActive(c.active);var e=b._getPanelForTab(this.active);e.show(),this.lis.eq(c.active).addClass("ui-tabs-active ui-state-active"),this.load(c.active)}else this.active=a()},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_setOption:function(a,b){if(a=="active")this._activate(b);else{if(a==="disabled"){this._setupDisabled(b);return}this._super(a,b),a==="collapsible"&&!b&&this.options.active===!1&&this._activate(0),a==="event"&&this._setupEvents(b),a==="fx"&&this._setupFx(b)}},_tabId:function(b){return a(b).attr("aria-controls")||"ui-tabs-"+e()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@[\]^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this,c=this.options,d=this.list.children(":has(a[href])");c.disabled=a.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)}),this._processTabs(),this._refresh(),this.panels.not(this._getPanelForTab(this.active)).hide();if(c.active===!1||!this.anchors.length)c.active=!1,this.active=a();else if(this.active.length&&!a.contains(this.list[0],this.active[0])){var e=c.active-1;this._activate(e>=0?e:0)}else c.active=this.anchors.index(this.active)},_refresh:function(){var a=this.options;this.element.toggleClass("ui-tabs-collapsible",a.collapsible),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),this._setupDisabled(a.disabled),this._setupEvents(a.event),this.lis.unbind(".tabs"),this._focusable(this.lis),this._hoverable(this.lis)},_processTabs:function(){var b=this;this.list=this._getList(),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(c,d){var e,g;if(f(d))e=d.hash,g=b.element.find(b._sanitizeSelector(e));else{var h=b._tabId(d);e="#"+h,g=b.element.find(e),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.list))}g.length&&(b.panels=b.panels.add(g)),a(d).attr("aria-controls",e.substring(1))})},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div></div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("destroy.tabs",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.lis[c];c++)a(d).toggleClass("ui-state-disabled",b===!0||a.inArray(c,b)!==-1);this.options.disabled=b},_setupFx:function(b){b&&(a.isArray(b)?(this.hideFx=b[0],this.showFx=b[1]):this.hideFx=this.showFx=b)},_resetStyle:function(b,c){!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")},_setupEvents:function(b){this.anchors.unbind(".tabs"),b&&this.anchors.bind(b.split(" ").join(".tabs ")+".tabs",a.proxy(this,"_eventHandler")),this.anchors.bind("click.tabs",function(a){a.preventDefault()})},_eventHandler:function(b){var c=this,d=c.options,e=c.active,f=a(b.currentTarget),g=f[0]===e[0],h=g&&d.collapsible,i=h?a():c._getPanelForTab(f),j=e.length?c._getPanelForTab(e):a(),k=f.closest("li"),l={oldTab:e,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault();if(k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||c.running||g&&!d.collapsible||c._trigger("beforeActivate",b,l)===!1)f[0].blur();else{d.active=h?!1:c.anchors.index(f),c.active=g?a():f,c.xhr&&c.xhr.abort();if(!j.length&&!i.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&(c.load(c.anchors.index(f),b),f[0].blur()),c._toggle(b,l)}},_toggle:function(b,c){function i(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&d.showFx?f.animate(d.showFx,d.showFx.duration||"normal",function(){d._resetStyle(a(this),d.showFx),h()}):(f.show(),h())}function h(){d.running=!1,d._trigger("activate",b,c)}var d=this,e=d.options,f=c.newPanel,g=c.oldPanel;d.running=!0,g.length&&d.hideFx?g.animate(d.hideFx,d.hideFx.duration||"normal",function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d._resetStyle(a(this),d.hideFx),i()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),i())},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return typeof b=="number"?this.anchors.eq(b):typeof b=="string"?this.anchors.filter("[href$='"+b+"']"):a()},_getIndex:function(a){typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},_destroy:function(){var b=this.options;this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.unbind(".tabs").removeData("href.tabs").removeData("load.tabs"),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-active","ui-state-active","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom"].join(" "))});return this},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),a.isArray(d)?d=a.map(d,function(a){return a!==c?a:null}):d=a.map(this.lis,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{c=this._getIndex(c);if(a.inArray(c,d)!==-1)return;a.isArray(d)?d=a.merge([c],d).sort():d=[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.options,g=this.anchors.eq(b),h=d._getPanelForTab(g),i={tab:g,panel:h};if(!f(g[0])){this.xhr=a.ajax({url:g.attr("href"),beforeSend:function(b,e){return d._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:e},i))}}),this.xhr&&(this.lis.eq(b).addClass("ui-tabs-loading"),this.xhr.success(function(a){setTimeout(function(){h.html(a),d._trigger("load",c,i)},1)}).complete(function(a,c){setTimeout(function(){c==="abort"&&d.panels.stop(!1,!0),d.lis.eq(b).removeClass("ui-tabs-loading"),a===d.xhr&&delete d.xhr},1)}));return this}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}});if(a.uiBackCompat!==!1){a.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},function(a,b){b.url=function(a,b){this.anchors.eq(a).attr("href",b)}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){a.extend(b.options,{ajaxOptions:null,cache:!1});var c=b._create,d=b._setOption,e=b._destroy,f=b.url||a.noop;a.extend(b,{_create:function(){c.call(this);var b=this;this.element.bind("tabsbeforeload.tabs",function(c,d){a.data(d.tab[0],"cache.tabs")?c.preventDefault():(a.extend(d.ajaxSettings,b.options.ajaxOptions,{error:function(a,c,e){try{b.options.ajaxOptions.error(a,c,d.tab.closest("li").index(),d.tab[0])}catch(e){}}}),d.jqXHR.success(function(){b.options.cache&&a.data(d.tab[0],"cache.tabs",!0)}))})},_setOption:function(a,b){a==="cache"&&b===!1&&this.anchors.removeData("cache.tabs"),d.apply(this,arguments)},_destroy:function(){this.anchors.removeData("cache.tabs"),e.call(this)},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs"),f.apply(this,arguments)}})}(jQuery,jQuery.ui.tabs.prototype),function(a,b){b.abort=function(){this.xhr&&this.xhr.abort()}}(jQuery,jQuery.ui.tabs.prototype),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._bind({tabsbeforeload:function(a,b){if(!!this.options.spinner){var c=b.tab.find("span"),d=c.html();c.html(this.options.spinner),b.jqXHR.complete(function(){c.html(d)})}}})}}),function(a,b){a.extend(b.options,{enable:null,disable:null});var c=b.enable,d=b.disable;b.enable=function(b){var d=this.options,e;if(b&&d.disabled===!0||a.isArray(d.disabled)&&a.inArray(b,d.disabled)!==-1)e=!0;c.apply(this,arguments),e&&this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},b.disable=function(b){var c=this.options,e;if(b&&c.disabled===!1||a.isArray(c.disabled)&&a.inArray(b,c.disabled)===-1)e=!0;d.apply(this,arguments),e&&this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}}(jQuery,jQuery.ui.tabs.prototype),function(a,c){a.extend(c.options,{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"}),c.add=function(c,d,e){e===b&&(e=this.anchors.length);var f=this.options,g=a(f.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),h=c.indexOf("#")?this._tabId(g.find("a")[0]):c.replace("#","");g.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0),g.find("a").attr("aria-controls",h);var i=e>=this.lis.length,j=this.element.find("#"+h);j.length||(j=this._createPanel(h),i?e>0?j.insertAfter(this.panels.eq(-1)):j.appendTo(this.element):j.insertBefore(this.panels[e])),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),i?g.appendTo(this.list):g.insertBefore(this.lis[e]),f.disabled=a.map(f.disabled,function(a){return a>=e?++a:a}),this.refresh(),this.lis.length===1&&f.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e]));return this},c.remove=function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this._getPanelForTab(d.find("a[aria-controls]")).remove();d.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!==b}),function(a){return a>=b?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0]));return this}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){b.length=function(){return this.anchors.length}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){a.extend(b.options,{idPrefix:"ui-tabs-"});var c=b._tabId;b._tabId=function(b){return a(b).attr("aria-controls")||b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){a.extend(b.options,{panelTemplate:"<div></div>"});var c=b._createPanel;b._createPanel=function(b){return a(this.options.panelTemplate).attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("destroy.tabs",!0)}}(jQuery,jQuery.ui.tabs.prototype),function(a,c){var d=c._create,e=c._setOption,f=c._eventHandler;c._create=function(){var a=this.options;a.active===null&&a.selected!==b&&(a.active=a.selected===-1?!1:a.selected),d.call(this),a.selected=a.active,a.selected===!1&&(a.selected=-1)},c._setOption=function(a,b){if(a!=="selected")return e.apply(this,arguments);var c=this.options;e.call(this,"active",b===-1?!1:b),c.selected=c.active,c.selected===!1&&(c.selected=-1)},c._eventHandler=function(a){f.apply(this,arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){a.extend(b.options,{show:null,select:null});var c=b._create,d=b._trigger;b._create=function(){c.call(this),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active[0],this._getPanelForTab(this.active)[0]))},b._trigger=function(a,b,c){var e=d.apply(this,arguments);if(!e)return!1;a==="beforeActivate"&&c.newTab.length?e=d.call(this,"select",b,{tab:c.newTab[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()}):a==="activate"&&c.newTab.length&&(e=d.call(this,"show",b,{tab:c.newTab[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()}))}}(jQuery,jQuery.ui.tabs.prototype),function(a,b){b.select=function(a){a=this._getIndex(a);if(a===-1)if(this.options.collapsible&&this.options.selected!==-1)a=this.options.selected;else return;this.anchors.eq(a).trigger(this.options.event+".tabs")}}(jQuery,jQuery.ui.tabs.prototype);var g=0;function h(){return++g}a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var a=this.options,b;a.active==null&&a.cookie&&(b=parseInt(this._cookie(),10),b===-1&&(b=!1),a.active=b),this._super()},_cookie:function(b){var c=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+h())];arguments.length&&(c.push(b===!1?-1:b),c.push(this.options.cookie));return a.cookie.apply(null,c)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(a){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}}),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(b,c,d){var e=a.extend({},d);b==="load"&&(e.panel=e.panel[0],e.tab=e.tab[0]);return this._super(b,c,e)}})}})(jQuery)